<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
    <style>
        .bar {
            margin: 10px 0 10px 80px;
        }
    </style>
<body>
    <div>
        <label>
            个人爱好：<input type="text" id='firstip'>
            <button id='zengj'>增加</button>
        </label>
    </div>
    <div class=bar id='more'>
        <input type="text" id='nextip'>
        <button id='shancbt'>删除</button>
    </div>
    <button class=bar id='quer'>确定</button>
    <div class="bar" id='result'></div>
    
    
    <script>

        var firstip = document.getElementById('firstip');
        var zengj = document.getElementById('zengj');
        var more = document.getElementById('more');
        var nextip = document.getElementById('nextip');
        var shancbt = document.getElementById('shancbt');
        var quer = document.getElementById('quer');
        var resule= document.getElementById('resule');
        
        zengj.onclick = function() {
                var newElements = getMoreElements();
                var len = getTotalCount();
                more.appendChild(newElements);
                
                if (len >= 3) {
                    zengj.disabled = 'disabled';
                    // return;
                }
            };

        function getMoreElements() {
            var p = document.createElement('p'),
                input = document.createElement('input'),
                button = document.createElement('button'),
                delTxt = document.createTextNode('删除'),
                nbsp = document.createTextNode('\r\n');
            // <input>
            input.type = 'text';
            // <input type="text">
            button.appendChild(delTxt);
            button.onclick = onDelBtnClick;
            // <button onclick="onDelBtnClick">
            p.appendChild(input);
            p.appendChild(nbsp);
            p.appendChild(button);
            return p;
          }
         
        function getTotalCount() {
                return more.getElementsByTagName('p').length;
            }
            function onDelBtnClick() {
                // console.log(this);
                // var r = confirm('确定要删除吗？');
                var r = true;
                if (r) {
                    more.removeChild(this.parentNode);
                    zengj.disabled = '';
                }
            }
           
        quer.onclick = function() {
            var ipts = more.getElementsByTagName('input'),
                rArr = [],
                len = ipts.length;
            for(var i=0; i<len; i++) {
                rArr.push(ipts[i].value);
            }
            rArr.unshift(firstip.value);
            result.innerHTML = '你的爱好有：' + rArr.join('-');
         };


    </script>
</body>
</html>